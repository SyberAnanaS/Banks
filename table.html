<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Данные</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        #dataTable {
            display: none;
        }
        .container {
            margin-top: 50px;
        }
        h1 {
            font-size: 3em;
            margin-bottom: 20px;
        }
        .description {
            font-size: 1.5em;
            margin-bottom: 30px;
        }
        p {
            font-size: 1.2em;
            margin-bottom: 30px;
        }
        .button-return {
            display: inline-block;
            padding: 15px 30px;
            font-size: 1.2em;
            color: #fff;
            background-color: #007BFF;
            border: none;
            border-radius: 5px;
            text-decoration: none;
            margin: 10px;
            cursor: pointer;
        }
        .button-return:hover {
            background-color: #0056b3;
        }
        .button-indicators {
            display: inline-block;
            padding: 10px 20px;
            font-size: 1.2em;
            color: #000;
            background-color: #fff;
            border: 1px solid #aaa;
            border-radius: 4px;
            text-decoration: none;
            cursor: pointer;
            width: 200px; /* ширина как у селекторов */
            height: 33px; /* высота как у селекторов */
        }
        .button-indicators:hover {
            background-color: #f4f4f4;
        }
        .hidden {
            display: none;
        }
        table {
            width: 80%;
            margin: 20px auto;
            border-collapse: collapse;
            background-color: #fff;
        }
        table, th, td {
            border: 1px solid black;
        }
        th, td {
            padding: 10px;
            text-align: center;
        }
        .filters {
            display: flex;
            justify-content: center;
            align-items: center; /* выравнивание по вертикали */
            margin-bottom: 20px;
            gap: 10px;
        }
        .filter {
            margin: 0 10px;
        }
        .filter label {
            display: block;
            text-align: left;
        }
        .select2-container {
            width: 200px !important;
        }

        .select2-container::after {
            content: '\25BC'; /* Код стрелочки вниз */
            font-size: 13px; /* Размер шрифта стрелочки */
            position: absolute; /* Абсолютное позиционирование относительно корневого элемента */
            top: 50%; /* Положение по вертикали */
            right: 10px; /* Положение справа */
            transform: translateY(-50%); /* Смещение по вертикали на половину высоты элемента */
            pointer-events: none; /* Элемент не реагирует на события мыши, чтобы не мешать кликам на селекторе */
            display: none !important;
        }
        .button-container {
            margin-top: 20px;
        }

        .column-dropdown-content {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            min-width: 160px;
            box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
            z-index: 1;
            text-align: left;
        }
        .column-dropdown-content input {
            margin: 5px;
        }
        .column-dropdown-content label {
            margin-left: 5px;
        }
        .column-dropdown:hover .column-dropdown-content {
            display: block;
        }
        .column-dropdown .button-indicators {
            height: 33px; /* делаем кнопку одинаковой высоты с селекторами */
            display: flex;
            justify-content: center;
            align-items: center;
        }
    </style>
</head>
<body>
    <div id="tablesPage" class="container">
        <div class="filters">
            <div class="filter">
                <select id="bankFilter" multiple>
                    <option value="ВТБ">ВТБ</option>
                    <option value="Сбербанк">Сбербанк</option>
                    <option value="Тинькофф Банк">Тинькофф Банк</option>
                    <option value="Альфа-Банк">Альфа-Банк</option>
                    <option value="Райффайзенбанк">Райффайзенбанк</option>
                </select>
            </div>
            <div class="filter">
                <select id="yearFilter" multiple>
                    <option value="2017">2017</option>
                    <option value="2018">2018</option>
                    <option value="2019">2019</option>
                    <option value="2020">2020</option>
                    <option value="2021">2021</option>
                    <option value="2022">2022</option>
                </select>
            </div>
            <div class="column-dropdown filter">
                <button class="button-indicators">Показатели</button>
                <div class="column-dropdown-content">
                    <label><input type="checkbox" id="select-all" checked>Выбрать все</label>
                    <label><input type="checkbox" id="col-Активы" checked>Активы</label>
                    <label><input type="checkbox" id="col-Пассивы" checked>Пассивы</label>
                    <label><input type="checkbox" id="col-Капитал" checked>Собственный капитал</label>
                    <label><input type="checkbox" id="col-Чистая-прибыль" checked>Чистая прибыль</label>
                    <label><input type="checkbox" id="col-ROA" checked>ROA</label>
                    <label><input type="checkbox" id="col-ROE" checked>ROE</label>
                    <label><input type="checkbox" id="col-Финансовый-леверидж" checked>Финансовый леверидж</label>
                    <label><input type="checkbox" id="col-Чистая-процентная-маржа" checked>Чистая процентная маржа</label>
                    <label><input type="checkbox" id="col-Достаточность-капитала-Н1" checked>Достаточность капитала (Н1)</label>
                    <label><input type="checkbox" id="col-Н2" checked>Н2</label>
                    <label><input type="checkbox" id="col-Н3" checked>Н3</label>
                    <label><input type="checkbox" id="col-Н4" checked>Н4</label>
                    <label><input type="checkbox" id="col-Чистый-спрэд" checked>Чистый спрэд</label>
                </div>
            </div>
        </div>
        <table id="dataTable">
            <thead>
                <tr>
                    <th>Банк</th>
                    <th>Год</th>
                    <th class="col-Активы">Активы (тыс.р.)</th>
                    <th class="col-Пассивы">Пассивы (тыс.р.)</th>
                    <th class="col-Капитал">Собственный капитал (тыс.р.)</th>
                    <th class="col-Чистая-прибыль">Чистая прибыль (тыс.р.)</th>
                    <th class="col-ROA">ROA</th>
                    <th class="col-ROE">ROE</th>
                    <th class="col-Финансовый-леверидж">Финансовый леверидж</th>
                    <th class="col-Чистая-процентная-маржа">Чистая процентная маржа</th>
                    <th class="col-Достаточность-капитала-Н1">Достаточность капитала (Н1)</th>
                    <th class="col-Н2">Н2</th>
                    <th class="col-Н3">Н3</th>
                    <th class="col-Н4">Н4</th>
                    <th class="col-Чистый-спрэд">Чистый спрэд</th>
                </tr>
            </thead>
            <tbody>
                <!-- Данные будут добавлены здесь с помощью JavaScript -->
            </tbody>
        </table>
        <div class="button-container">
            <button class="button-return" onclick="window.location.href = 'main.html'">Вернуться</button>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            $('#bankFilter').select2();
            $('#yearFilter').select2();

            loadTableData();
            
            $('#bankFilter, #yearFilter').on('change', filterTable);

            const columnCheckboxes = document.querySelectorAll('.column-dropdown-content input[type="checkbox"]:not(#select-all)');
            const selectAllCheckbox = document.querySelector('#select-all');

            // Обработчик для "Выбрать все"
            selectAllCheckbox.addEventListener('change', function() {
                columnCheckboxes.forEach(checkbox => {
                    checkbox.checked = this.checked;
                    const columnClass = checkbox.id;
                    const columnCells = document.querySelectorAll(`.${columnClass}`);
                    columnCells.forEach(cell => {
                        cell.style.display = this.checked ? '' : 'none';
                    });
                });
            });

            // Обработчик для каждого чекбокса столбцов
            columnCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const columnClass = this.id;
                    const columnCells = document.querySelectorAll(`.${columnClass}`);
                    columnCells.forEach(cell => {
                        cell.style.display = this.checked ? '' : 'none';
                    });

                    // Проверка состояния "Выбрать все"
                    const allChecked = Array.from(columnCheckboxes).every(cb => cb.checked);
                    selectAllCheckbox.checked = allChecked;
                });
            });
        });

        async function loadTableData() {
            try {
                const data  = {
                  "Тинькофф Банк": [
                      {   
                        "Год": 2022,
                        "Активы": 1537109826,
                      "Пассивы": 1374891209,
                      "Капитал": 162218617,
                      "Пассивы, %": 89,
                      "Капитал, %": 11,
                      "Чистые доходы (расходы)": 157347968,
                      "Операционные расходы": 138875774,
                      "Прибыль (убыток) до налогообложения": 18472194,
                      "Чистая прибыль": 14617698,
                      "ROA": 1.052328638,
                      "ROE": 9.439619745,
                      "Финансовый леверидж": 8.475545128,
                      "Процентные доходы": 179775990,
                      "Процентные расходы": 52564804,
                      "Чистая процентная маржа": 8.275998491,
                      "Достаточность капитала (Н1)": 15.3,
                      "Н2": 48.08,
                      "Н3": 98.51,
                      "Н4": 26.94,
                      "Чистый спрэд": 9.48
                    },
                    {
                      "Год": 2021,
                      "Активы": 1241052333,
                      "Пассивы": 1093561483,
                      "Капитал": 147490850,
                      "Пассивы, %": 88,
                      "Капитал, %": 12,
                      "Чистые доходы (расходы)": 160776398,
                      "Операционные расходы": 102944928,
                      "Прибыль (убыток) до налогообложения": 57831470,
                      "Чистая прибыль": 47910742,
                      "ROA": 4.672084865,
                      "ROE": 38.41712802,
                      "Финансовый леверидж": 7.414436102,
                      "Процентные доходы": 135445576,
                      "Процентные расходы": 22086063,
                      "Чистая процентная маржа": 9.134144466,
                      "Достаточность капитала (Н1)": 14.9,
                      "Н2": 36.36,
                      "Н3": 97.24,
                      "Н4": 27.29,
                      "Чистый спрэд": 11.13
                    },
                    {
                      "Год": 2020,
                      "Активы": 809883957,
                      "Пассивы": 707950946,
                      "Капитал": 101933011,
                      "Пассивы, %": 87,
                      "Капитал, %": 13,
                      "Чистые доходы (расходы)": 100985842,
                      "Операционные расходы": 57537549,
                      "Прибыль (убыток) до налогообложения": 43448293,
                      "Чистая прибыль": 32768786,
                      "ROA": 4.803112199,
                      "ROE": 36.16339647,
                      "Финансовый леверидж": 6.945256881,
                      "Процентные доходы": 110813312,
                      "Процентные расходы": 18831942,
                      "Чистая процентная маржа": 11.35735178,
                      "Достаточность капитала (Н1)": 13.07,
                      "Н2": 72.92,
                      "Н3": 127.22,
                      "Н4": 18.81,
                      "Чистый спрэд": 12.95
                    },
                    {
                      "Год": 2019,
                      "Активы": 554597431,
                      "Пассивы": 475304179,
                      "Капитал": 79293252,
                      "Пассивы, %": 86,
                      "Капитал, %": 14,
                      "Чистые доходы (расходы)": 82650677,
                      "Операционные расходы": 46212923,
                      "Прибыль (убыток) до налогообложения": 36437754,
                      "Чистая прибыль": 26735283,
                      "ROA": 5.73554866,
                      "ROE": 39.7168444,
                      "Финансовый леверидж": 5.994257607,
                      "Процентные доходы": 91967400,
                      "Процентные расходы": 18177785,
                      "Чистая процентная маржа": 13.30507696,
                      "Достаточность капитала (Н1)": 12.12,
                      "Н2": 92.57,
                      "Н3": 146.38,
                      "Н4": 19.93,
                      "Чистый спрэд": 14.72
                    },
                    {
                      "Год": 2018,
                      "Активы": 377668498,
                      "Пассивы": 322332308,
                      "Капитал": 55336190,
                      "Пассивы, %": 85,
                      "Капитал, %": 15,
                      "Чистые доходы (расходы)": 65669149,
                      "Операционные расходы": 44094262,
                      "Прибыль (убыток) до налогообложения": 21574887,
                      "Чистая прибыль": 15653645,
                      "ROA": 4.846300434,
                      "ROE": 31.89961221,
                      "Финансовый леверидж": 5.824981951,
                      "Процентные доходы": 70950492,
                      "Процентные расходы": 13442794,
                      "Чистая процентная маржа": 15.22703066,
                      "Достаточность капитала (Н1)": 14.2,
                      "Н2": 44.84,
                      "Н3": 130.33,
                      "Н4": 15.03,
                      "Чистый спрэд": 15.67
                    },
                    {
                      "Год": 2017,
                      "Активы": 268335406,
                      "Пассивы": 225528428,
                      "Капитал": 42806978,
                      "Пассивы, %": 84,
                      "Капитал, %": 16,
                      "Чистые доходы (расходы)": 63920370,
                      "Операционные расходы": 40536053,
                      "Прибыль (убыток) до налогообложения": 23384317,
                      "Чистая прибыль": 17444230,
                      "ROA": 6.500905065,
                      "ROE": 40.75090281,
                      "Финансовый леверидж": 5.268496832,
                      "Процентные доходы": 57179289,
                      "Процентные расходы": 11718873,
                      "Чистая процентная маржа": 16.94163908,
                      "Достаточность капитала (Н1)": 16.27,
                      "Н2": 48.02,
                      "Н3": 159.18,
                      "Н4": 5.25,
                      "Чистый спрэд": 16.18
                    }
                  ],
                  "ВТБ": [
                    {
                      "Год": 2022,
                      "Активы": 20631984096,
                      "Пассивы": 19851370436,
                      "Капитал": 780613660,
                      "Пассивы, %": 96,
                      "Капитал, %": 4,
                      "Чистые доходы (расходы)": -483928390,
                      "Операционные расходы": 454526798,
                      "Прибыль (убыток) до налогообложения": -938455188,
                      "Чистая прибыль": -756771839,
                      "ROA": -3.811010143,
                      "ROE": -66.11723743,
                      "Финансовый леверидж": 25.43046766,
                      "Процентные доходы": 1601553540,
                      "Процентные расходы": 1330001815,
                      "Чистая процентная маржа": 1.316168739,
                      "Достаточность капитала (Н1)": 9.4,
                      "Н2": 93.98,
                      "Н3": 90.16,
                      "Н4": 62.08,
                      "Чистый спрэд": 1.48
                    },
                    {
                      "Год": 2021,
                      "Активы": 19083042141,
                      "Пассивы": 17574474134,
                      "Капитал": 1508568007,
                      "Пассивы, %": 92,
                      "Капитал, %": 8,
                      "Чистые доходы (расходы)": 692642941,
                      "Операционные расходы": 456935265,
                      "Прибыль (убыток) до налогообложения": 235707676,
                      "Чистая прибыль": 186267518,
                      "ROA": 1.051250123,
                      "ROE": 12.89777276,
                      "Финансовый леверидж": 11.64977253,
                      "Процентные доходы": 1130234870,
                      "Процентные расходы": 534101504,
                      "Чистая процентная маржа": 3.123890633,
                      "Достаточность капитала (Н1)": 10.96,
                      "Н2": 94.77,
                      "Н3": 94.75,
                      "Н4": 63.34,
                      "Чистый спрэд": 3.24
                    },
                    {
                      "Год": 2020,
                      "Активы": 16354293637,
                      "Пассивы": 14974494458,
                      "Капитал": 1379799179,
                      "Пассивы, %": 92,
                      "Капитал, %": 8,
                      "Чистые доходы (расходы)": 404772305,
                      "Операционные расходы": 404958471,
                      "Прибыль (убыток) до налогообложения": -186166,
                      "Чистая прибыль": 467800,
                      "ROA": 0.003101142,
                      "ROE": 0.03368364,
                      "Финансовый леверидж": 10.85266225,
                      "Процентные доходы": 942479328,
                      "Процентные расходы": 469090903,
                      "Чистая процентная маржа": 2.894581909,
                      "Достаточность капитала (Н1)": 11.84,
                      "Н2": 44.99,
                      "Н3": 57.86,
                      "Н4": 65.95,
                      "Чистый спрэд": 3.25
                    },
                    {
                      "Год": 2019,
                      "Активы": 13815235194,
                      "Пассивы": 12417424818,
                      "Капитал": 1397810376,
                      "Пассивы, %": 90,
                      "Капитал, %": 10,
                      "Чистые доходы (расходы)": 459971640,
                      "Операционные расходы": 291307393,
                      "Прибыль (убыток) до налогообложения": 168664247,
                      "Чистая прибыль": 197105988,
                      "ROA": 1.435720396,
                      "ROE": 13.28814601,
                      "Финансовый леверидж": 8.883483076,
                      "Процентные доходы": 1005414153,
                      "Процентные расходы": 607534794,
                      "Чистая процентная маржа": 2.880004237,
                      "Достаточность капитала (Н1)": 11.25,
                      "Н2": 120.47,
                      "Н3": 158.36,
                      "Н4": 62.08,
                      "Чистый спрэд": 3.29
                    },
                    {
                      "Год": 2018,
                      "Активы": 13642198523,
                      "Пассивы": 12073364977,
                      "Капитал": 1568833546,
                      "Пассивы, %": 89,
                      "Капитал, %": 11,
                      "Чистые доходы (расходы)": 572701262,
                      "Операционные расходы": 290515994,
                      "Прибыль (убыток) до налогообложения": 282185268,
                      "Чистая прибыль": 230906903,
                      "ROA": 1.984295727,
                      "ROE": 15.44935621,
                      "Финансовый леверидж": 7.695759061,
                      "Процентные доходы": 924287589,
                      "Процентные расходы": 524947839,
                      "Чистая процентная маржа": 2.927238959,
                      "Достаточность капитала (Н1)": 11.4,
                      "Н2": 111.02,
                      "Н3": 134.68,
                      "Н4": 69.93,
                      "Чистый спрэд": 2.67
                    },
                    {
                      "Год": 2017,
                      "Активы": 9631237978,
                      "Пассивы": 8210860842,
                      "Капитал": 1420377136,
                      "Пассивы, %": 85,
                      "Капитал, %": 15,
                      "Чистые доходы (расходы)": 201537191,
                      "Операционные расходы": 128588605,
                      "Прибыль (убыток) до налогообложения": 72948586,
                      "Чистая прибыль": 101268176,
                      "ROA": 1.051455444,
                      "ROE": 7.129668131,
                      "Финансовый леверидж": 5.780761063,
                      "Процентные доходы": 672431066,
                      "Процентные расходы": 468588653,
                      "Чистая процентная маржа": 2.116471563,
                      "Достаточность капитала (Н1)": 11.28,
                      "Н2": 117.95,
                      "Н3": 135.38,
                      "Н4": 63.1,
                      "Чистый спрэд": 2.33
                    }
                  ],
                  "Сбербанк": [
                    {
                      "Год": 2022,
                      "Активы": 41871800000,
                      "Пассивы": 36057000000,
                      "Капитал": 5814800000,
                      "Пассивы, %": 86,
                      "Капитал, %": 14,
                      "Чистые доходы (расходы)": 1386700000,
                      "Операционные расходы": 822000000,
                      "Прибыль (убыток) до налогообложения": 564700000,
                      "Чистая прибыль": 270500000,
                      "ROA": 0.65151444,
                      "ROE": 4.72105626,
                      "Финансовый леверидж": 6.200901149,
                      "Процентные доходы": 3677100000,
                      "Процентные расходы": 1802300000,
                      "Чистая процентная маржа": 4.477476488,
                      "Достаточность капитала (Н1)": 13.1,
                      "Н2": 94.35,
                      "Н3": 117.21,
                      "Н4": 71.04,
                      "Чистый спрэд": 4.28
                    },
                    {
                      "Год": 2021,
                      "Активы": 41165500000,
                      "Пассивы": 35521000000,
                      "Капитал": 5644500000,
                      "Пассивы, %": 86,
                      "Капитал, %": 14,
                      "Чистые доходы (расходы)": 2289600000,
                      "Операционные расходы": 834400000,
                      "Прибыль (убыток) до налогообложения": 1455200000,
                      "Чистая прибыль": 1245900000,
                      "ROA": 3.360704033,
                      "ROE": 24.03087107,
                      "Финансовый леверидж": 6.293028612,
                      "Процентные доходы": 2699100000,
                      "Процентные расходы": 939700000,
                      "Чистая процентная маржа": 4.273967278,
                      "Достаточность капитала (Н1)": 14.19,
                      "Н2": 139.87,
                      "Н3": 126.36,
                      "Н4": 68.06,
                      "Чистый спрэд": 4.26
                    },
                    {
                      "Год": 2020,
                      "Активы": 32979678372,
                      "Пассивы": 28255016171,
                      "Капитал": 4724662201,
                      "Пассивы, %": 86,
                      "Капитал, %": 14,
                      "Чистые доходы (расходы)": 1706668953,
                      "Операционные расходы": 831700297,
                      "Прибыль (убыток) до налогообложения": 874968656,
                      "Чистая прибыль": 709891879,
                      "ROA": 2.344278867,
                      "ROE": 15.5516304,
                      "Финансовый леверидж": 5.980325147,
                      "Процентные доходы": 2219606631,
                      "Процентные расходы": 708241008,
                      "Чистая процентная маржа": 4.582717897,
                      "Достаточность капитала (Н1)": 14.76,
                      "Н2": 98.38,
                      "Н3": 127.59,
                      "Н4": 65.08,
                      "Чистый спрэд": 4.38
                    },
                    {
                      "Год": 2019,
                      "Активы": 27584095764,
                      "Пассивы": 23179273010,
                      "Капитал": 4404822754,
                      "Пассивы, %": 84,
                      "Капитал, %": 16,
                      "Чистые доходы (расходы)": 1886051766,
                      "Операционные расходы": 788410966,
                      "Прибыль (убыток) до налогообложения": 1097640800,
                      "Чистая прибыль": 856245128,
                      "ROA": 3.14310522,
                      "ROE": 20.87099886,
                      "Финансовый леверидж": 5.262248745,
                      "Процентные доходы": 2245115531,
                      "Процентные расходы": 899637220,
                      "Чистая процентная маржа": 4.877732163,
                      "Достаточность капитала (Н1)": 14.52,
                      "Н2": 162.59,
                      "Н3": 229.99,
                      "Н4": 57.14,
                      "Чистый спрэд": 4.49
                    },
                    {
                      "Год": 2018,
                      "Активы": 26899929935,
                      "Пассивы": 23099633866,
                      "Капитал": 3800296069,
                      "Пассивы, %": 86,
                      "Капитал, %": 14,
                      "Чистые доходы (расходы)": 1762511363,
                      "Операционные расходы": 760240210,
                      "Прибыль (убыток) до налогообложения": 1002271153,
                      "Чистая прибыль": 782182016,
                      "ROA": 3.125049888,
                      "ROE": 21.85035703,
                      "Финансовый леверидж": 6.078377433,
                      "Процентные доходы": 2093457717,
                      "Процентные расходы": 727320975,
                      "Чистая процентная маржа": 5.078588477,
                      "Достаточность капитала (Н1)": 14.89,
                      "Н2": 186.49,
                      "Н3": 232.77,
                      "Н4": 63.48,
                      "Чистый спрэд": 5.08
                    },
                    {
                      "Год": 2017,
                      "Активы": 23158919939,
                      "Пассивы": 19799772207,
                      "Капитал": 3359147732,
                      "Пассивы, %": 85,
                      "Капитал, %": 15,
                      "Чистые доходы (расходы)": 1560689297,
                      "Операционные расходы": 714803671,
                      "Прибыль (убыток) до налогообложения": 845885626,
                      "Чистая прибыль": 653565405,
                      "ROA": 2.822089315,
                      "ROE": 19.45628645,
                      "Финансовый леверидж": 5.89428444,
                      "Процентные доходы": 2032170704,
                      "Процентные расходы": 730382293,
                      "Чистая процентная маржа": 5.6211102,
                      "Достаточность капитала (Н1)": 14.95,
                      "Н2": 161.89,
                      "Н3": 264.9,
                      "Н4": 57.52,
                      "Чистый спрэд": 5.27
                    }
                  ],
                  "Альфа-Банк": [
                    {
                      "Год": 2022,
                      "Активы": 5818046073,
                      "Пассивы": 5248528880,
                      "Капитал": 569517193,
                      "Пассивы, %": 90,
                      "Капитал, %": 10,
                      "Чистые доходы (расходы)": 64895081,
                      "Операционные расходы": 209277310,
                      "Прибыль (убыток) до налогообложения": -144382229,
                      "Чистая прибыль": -117073002,
                      "ROA": -2.048,
                      "ROE": -18.603,
                      "Финансовый леверидж": 9.216,
                      "Процентные доходы": 470122399,
                      "Процентные расходы": 258392871,
                      "Чистая процентная маржа": 3.639,
                      "Достаточность капитала (Н1)": 14.07,
                      "Н2": 118.25,
                      "Н3": 105.84,
                      "Н4": 53.09,
                      "Чистый спрэд": 3.52
                    },
                    {
                      "Год": 2021,
                      "Активы": 5616931885,
                      "Пассивы": 4927834352,
                      "Капитал": 689097533,
                      "Чистые доходы (расходы)": 328218645,
                      "Операционные расходы": 157502572,
                      "Прибыль (убыток) до налогообложения": 170716073,
                      "Чистая прибыль": 136630451,
                      "ROA": 2.646,
                      "ROE": 19.603,
                      "Финансовый леверидж": 7.151,
                      "Процентные доходы": 307494096,
                      "Процентные расходы": 131720875,
                      "Чистая процентная маржа": 3.129,
                      "Достаточность капитала (Н1)": 14.37,
                      "Н2": 85.38,
                      "Н3": 123.64,
                      "Н4": 55.66,
                      "Чистый спрэд": 3.16
                    },
                    {
                      "Год": 2020,
                      "Активы": 4711020237,
                      "Пассивы": 4006155965,
                      "Капитал": 704864272,
                      "Чистые доходы (расходы)": 322153900,
                      "Операционные расходы": 101175375,
                      "Прибыль (убыток) до налогообложения": 220978525,
                      "Чистая прибыль": 176324545,
                      "ROA": 4.168,
                      "ROE": 28.539,
                      "Финансовый леверидж": 5.684,
                      "Процентные доходы": 276480756,
                      "Процентные расходы": 111569861,
                      "Чистая процентная маржа": 3.501,
                      "Достаточность капитала (Н1)": 13.2,
                      "Н2": 82.48,
                      "Н3": 114.03,
                      "Н4": 57.52,
                      "Чистый спрэд": 3.75
                    },
                    {
                      "Год": 2019,
                      "Активы": 3749640003,
                      "Пассивы": 3218840554,
                      "Капитал": 530799449,
                      "Чистые доходы (расходы)": 111966623,
                      "Операционные расходы": 87577620,
                      "Прибыль (убыток) до налогообложения": 24389003,
                      "Чистая прибыль": 17782673,
                      "ROA": 0.511,
                      "ROE": 4.010,
                      "Финансовый леверидж": 6.064,
                      "Процентные доходы": 268873661,
                      "Процентные расходы": 121735244,
                      "Чистая процентная маржа": 3.924,
                      "Достаточность капитала (Н1)": 12.65,
                      "Н2": 162.03,
                      "Н3": 158.54,
                      "Н4": 51.53,
                      "Чистый спрэд": 4.15
                    },
                    {
                      "Год": 2018,
                      "Активы": 3215947246,
                      "Пассивы": 2859928586,
                      "Капитал": 356018660,
                      "Чистые доходы (расходы)": 240875583,
                      "Операционные расходы": 101046362,
                      "Прибыль (убыток) до налогообложения": 139829221,
                      "Чистая прибыль": 106597950,
                      "ROA": 3.733,
                      "ROE": 34.530,
                      "Финансовый леверидж": 8.033,
                      "Процентные доходы": 214848549,
                      "Процентные расходы": 99120876,
                      "Чистая процентная маржа": 3.599,
                      "Достаточность капитала (Н1)": 13.52,
                      "Н2": 110.84,
                      "Н3": 129.17,
                      "Н4": 54.49,
                      "Чистый спрэд": 4.3
                    },
                    {
                      "Год": 2017,
                      "Активы": 2495743432,
                      "Пассивы": 2234345664,
                      "Капитал": 261397768,
                      "Чистые доходы (расходы)": 151371746,
                      "Операционные расходы": 91123257,
                      "Прибыль (убыток) до налогообложения": 60248489,
                      "Чистая прибыль": 42605974,
                      "ROA": 1.707,
                      "ROE": 16.299,
                      "Финансовый леверидж": 8.548,
                      "Процентные доходы": 197215301,
                      "Процентные расходы": 91756425,
                      "Чистая процентная маржа": 4.226,
                      "Достаточность капитала (Н1)": 11.97,
                      "Н2": 108.28,
                      "Н3": 148.51,
                      "Н4": 53.52,
                      "Чистый спрэд": 5.12
                    }
                  ],
                  "Райффайзенбанк": [
                    {
                      "Год": 2022,
                      "Активы": 2090804943,
                      "Пассивы": 1785487998,
                      "Капитал": 305316945,
                      "Пассивы, %": 85,
                      "Капитал, %": 15,
                      "Чистые доходы (расходы)": 271422968,
                      "Операционные расходы": 93968184,
                      "Прибыль (убыток) до налогообложения": 177454784,
                      "Чистая прибыль": 141051346,
                      "ROA": 7.659,
                      "ROE": 59.618,
                      "Финансовый леверидж": 5.848,
                      "Процентные доходы": 119053387,
                      "Процентные расходы": 37339589,
                      "Чистая процентная маржа": 3.908,
                      "Достаточность капитала (Н1)": 13.31,
                      "Н2": 122.6,
                      "Н3": 205.4,
                      "Н4": 44.26,
                      "Чистый спрэд": 3.84
                    },
                    {
                      "Год": 2021,
                      "Активы": 1592495885,
                      "Пассивы": 1424630473,
                      "Капитал": 167865412,
                      "Чистые доходы (расходы)": 104989256,
                      "Операционные расходы": 57280170,
                      "Прибыль (убыток) до налогообложения": 47709086,
                      "Чистая прибыль": 38661388,
                      "ROA": 2.540,
                      "ROE": 22.949,
                      "Финансовый леверидж": 8.487,
                      "Процентные доходы": 87028902,
                      "Процентные расходы": 22231762,
                      "Чистая процентная маржа": 4.069,
                      "Достаточность капитала (Н1)": 13.64,
                      "Н2": 129.25,
                      "Н3": 236.27,
                      "Н4": 44.11,
                      "Чистый спрэд": 4.34
                    },
                    {
                      "Год": 2020,
                      "Активы": 1451953587,
                      "Пассивы": 1282890614,
                      "Капитал": 169062973,
                      "Чистые доходы (расходы)": 87195603,
                      "Операционные расходы": 41657435,
                      "Прибыль (убыток) до налогообложения": 45538168,
                      "Чистая прибыль": 36432791,
                      "ROA": 2.673,
                      "ROE": 21.311,
                      "Финансовый леверидж": 7.588,
                      "Процентные доходы": 84073339,
                      "Процентные расходы": 20491157,
                      "Чистая процентная маржа": 4.379,
                      "Достаточность капитала (Н1)": 16.3,
                      "Н2": 55.53,
                      "Н3": 121.03,
                      "Н4": 42.21,
                      "Чистый спрэд": 4.72
                    },
                    {
                      "Год": 2019,
                      "Активы": 1274486274,
                      "Пассивы": 1101638662,
                      "Капитал": 172847612,
                      "Чистые доходы (расходы)": 89711949,
                      "Операционные расходы": 41724931,
                      "Прибыль (убыток) до налогообложения": 47987018,
                      "Чистая прибыль": 37105878,
                      "ROA": 3.105,
                      "ROE": 24.492,
                      "Финансовый леверидж": 6.373,
                      "Процентные доходы": 94677512,
                      "Процентные расходы": 24279721,
                      "Чистая процентная маржа": 5.524,
                      "Достаточность капитала (Н1)": 13.98,
                      "Н2": 95.07,
                      "Н3": 212.89,
                      "Н4": 46.06,
                      "Чистый спрэд": 5.63
                    },
                    {
                      "Год": 2018,
                      "Активы": 1115246077,
                      "Пассивы": 985093551,
                      "Капитал": 130152526,
                      "Чистые доходы (расходы)": 74568358,
                      "Операционные расходы": 40596369,
                      "Прибыль (убыток) до налогообложения": 33971989,
                      "Чистая прибыль": 26773431,
                      "ROA": 2.742,
                      "ROE": 22.457,
                      "Финансовый леверидж": 7.569,
                      "Процентные доходы": 80246515,
                      "Процентные расходы": 19190719,
                      "Чистая процентная маржа": 5.475,
                      "Достаточность капитала (Н1)": 13.03,
                      "Н2": 104.99,
                      "Н3": 151.34,
                      "Н4": 48.55,
                      "Чистый спрэд": 5.49
                    },
                    {
                      "Год": 2017,
                      "Активы": 837847374,
                      "Пассивы": 729557172,
                      "Капитал": 108290202,
                      "Чистые доходы (расходы)": 66433165,
                      "Операционные расходы": 35955983,
                      "Прибыль (убыток) до налогообложения": 30477182,
                      "Чистая прибыль": 23957470,
                      "ROA": 2.859,
                      "ROE": 22.123,
                      "Финансовый леверидж": 6.737,
                      "Процентные доходы": 69021188,
                      "Процентные расходы": 20459104,
                      "Чистая процентная маржа": 5.796,
                      "Достаточность капитала (Н1)": 13.36,
                      "Н2": 68.32,
                      "Н3": 161.08,
                      "Н4": 45.86,
                      "Чистый спрэд": 5.73
                    }
              ]
            }
                populateTable(data);
            } catch (error) {
                console.error('Error loading table data:', error);
            }
        }

        function populateTable(data) {
            const tableBody = document.querySelector('#dataTable tbody');
            tableBody.innerHTML = '';

            for (const bank in data) {
                data[bank].forEach(entry => {
                    const row = document.createElement('tr');

                    row.innerHTML = `
                        <td>${bank}</td>
                        <td>${entry.Год}</td>
                        <td class="col-Активы">${entry.Активы}</td>
                        <td class="col-Пассивы">${entry.Пассивы}</td>
                        <td class="col-Капитал">${entry.Капитал}</td>
                        <td class="col-Чистая-прибыль">${entry['Чистая прибыль']}</td>
                        <td class="col-ROA">${entry.ROA}</td>
                        <td class="col-ROE">${entry.ROE}</td>
                        <td class="col-Финансовый-леверидж">${entry['Финансовый леверидж']}</td>
                        <td class="col-Чистая-процентная-маржа">${entry['Чистая процентная маржа']}</td>
                        <td class="col-Достаточность-капитала-Н1">${entry['Достаточность капитала (Н1)']}</td>
                        <td class="col-Н2">${entry.Н2}</td>
                        <td class="col-Н3">${entry.Н3}</td>
                        <td class="col-Н4">${entry.Н4}</td>
                        <td class="col-Чистый-спрэд">${entry['Чистый спрэд']}</td>
                    `;

                    tableBody.appendChild(row);
                });
            }
        }

        function filterTable() {
            const selectedBanks = $('#bankFilter').val();
            const selectedYears = $('#yearFilter').val();

            const rows = document.querySelectorAll('#dataTable tbody tr');
            rows.forEach(row => {
                const bank = row.children[0].textContent;
                const year = row.children[1].textContent;

                const shouldDisplay = (selectedBanks.length === 0 || selectedBanks.includes(bank)) &&
                                      (selectedYears.length === 0 || selectedYears.includes(year));

                row.style.display = shouldDisplay ? '' : 'none';
            });

            document.getElementById('dataTable').style.display = 'table';
        }
    </script>
</body>
</html>